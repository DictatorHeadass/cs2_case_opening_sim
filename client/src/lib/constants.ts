import { Case, CaseItem, WearCondition, Achievement, DailyChallenge } from "@shared/schema";

export const WEAR_CONDITIONS: WearCondition[] = [
  {
    name: 'factory_new',
    displayName: 'Factory New',
    multiplier: 1.0,
    probability: 0.07,
  },
  {
    name: 'minimal_wear',
    displayName: 'Minimal Wear',
    multiplier: 0.85,
    probability: 0.15,
  },
  {
    name: 'field_tested',
    displayName: 'Field-Tested',
    multiplier: 0.7,
    probability: 0.38,
  },
  {
    name: 'well_worn',
    displayName: 'Well-Worn',
    multiplier: 0.55,
    probability: 0.3,
  },
  {
    name: 'battle_scarred',
    displayName: 'Battle-Scarred',
    multiplier: 0.4,
    probability: 0.1,
  },
];

export const RARITY_DROP_RATES = {
  consumer: 0.7992,
  industrial: 0.1598,
  restricted: 0.032,
  classified: 0.0064,
  covert: 0.0013,
  knife: 0.00026,
};

export const RARITY_COLORS = {
  consumer: 'hsl(0, 0%, 70%)',
  industrial: 'hsl(195, 100%, 70%)',
  restricted: 'hsl(260, 100%, 70%)',
  classified: 'hsl(300, 100%, 70%)',
  covert: 'hsl(0, 100%, 70%)',
  knife: 'hsl(45, 100%, 60%)',
};

export const CASES: Case[] = [
  {
    id: 'community_case',
    name: 'Community Case',
    description: 'Basic starter skins from the community',
    price: 0,
    tier: 'free',
    image: 'https://images.unsplash.com/photo-1606092195730-5d7b9af1efc5?ixlib=rb-4.0.3&auto=format&fit=crop&w=400&h=300',
    items: [
      {
        id: 'glock_reactor',
        name: 'Glock-18 | Reactor',
        type: 'weapon',
        rarity: 'consumer',
        baseValue: 5,
        image: 'https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=300',
        conditions: WEAR_CONDITIONS,
      },
      {
        id: 'p250_sand_dune',
        name: 'P250 | Sand Dune',
        type: 'weapon',
        rarity: 'consumer',
        baseValue: 3,
        image: 'https://images.unsplash.com/photo-1586953268565-0ac437e8e13a?w=300',
        conditions: WEAR_CONDITIONS,
      },
      {
        id: 'ak47_redline',
        name: 'AK-47 | Redline',
        type: 'weapon',
        rarity: 'industrial',
        baseValue: 25,
        image: 'https://images.unsplash.com/photo-1589492477829-5e65395b66cc?w=300',
        conditions: WEAR_CONDITIONS,
        statTrakChance: 0.15,
      },
      {
        id: 'awp_dragon_lore',
        name: 'AWP | Dragon Lore',
        type: 'weapon',
        rarity: 'restricted',
        baseValue: 125,
        image: 'https://images.unsplash.com/photo-1574169208507-84376144848b?w=300',
        conditions: WEAR_CONDITIONS,
        statTrakChance: 0.15,
      },
    ],
  },
  {
    id: 'workshop_case',
    name: 'Workshop Case',
    description: 'Community designs (1hr cooldown)',
    price: 0,
    tier: 'free',
    cooldown: 60,
    image: 'https://images.unsplash.com/photo-1542751371-adc38448a05e?ixlib=rb-4.0.3&auto=format&fit=crop&w=400&h=300',
    items: [
      {
        id: 'm4a4_howl',
        name: 'M4A4 | Howl',
        type: 'weapon',
        rarity: 'covert',
        baseValue: 250,
        image: 'https://images.unsplash.com/photo-1560472354-b33ff0c44a43?w=300',
        conditions: WEAR_CONDITIONS,
        statTrakChance: 0.15,
      },
    ],
  },
  {
    id: 'starter_case',
    name: 'Starter Case',
    description: 'Entry-level progression items',
    price: 10,
    tier: 'budget',
    image: 'https://images.unsplash.com/photo-1538370965046-79c0d6907d47?ixlib=rb-4.0.3&auto=format&fit=crop&w=400&h=300',
    items: [
      {
        id: 'deagle_printstream',
        name: 'Desert Eagle | Printstream',
        type: 'weapon',
        rarity: 'classified',
        baseValue: 45,
        image: 'https://images.unsplash.com/photo-1578575437130-527eed3abbec?w=300',
        conditions: WEAR_CONDITIONS,
        statTrakChance: 0.15,
      },
    ],
  },
  {
    id: 'graffiti_case',
    name: 'Graffiti Case',
    description: 'Spray patterns and stickers',
    price: 15,
    tier: 'budget',
    image: 'https://images.unsplash.com/photo-1578662996442-48f60103fc96?ixlib=rb-4.0.3&auto=format&fit=crop&w=400&h=300',
    items: [
      {
        id: 'sticker_navi',
        name: 'Sticker | Natus Vincere',
        type: 'sticker',
        rarity: 'industrial',
        baseValue: 8,
        image: 'https://images.unsplash.com/photo-1581833971358-2c8b550f87b3?w=300',
        conditions: WEAR_CONDITIONS,
      },
    ],
  },
  {
    id: 'souvenir_package',
    name: 'Souvenir Package',
    description: 'Tournament drops with team stickers',
    price: 25,
    tier: 'budget',
    image: 'https://images.unsplash.com/photo-1581833971358-2c8b550f87b3?ixlib=rb-4.0.3&auto=format&fit=crop&w=400&h=300',
    items: [
      {
        id: 'ak47_gold_arabesque',
        name: 'AK-47 | Gold Arabesque',
        type: 'weapon',
        rarity: 'covert',
        baseValue: 180,
        image: 'https://images.unsplash.com/photo-1589492477829-5e65395b66cc?w=300',
        conditions: WEAR_CONDITIONS,
        statTrakChance: 0.15,
      },
    ],
  },
  {
    id: 'weapon_case',
    name: 'Weapon Case',
    description: 'Classic CS2 skins',
    price: 50,
    tier: 'standard',
    image: 'https://images.unsplash.com/photo-1589492477829-5e65395b66cc?ixlib=rb-4.0.3&auto=format&fit=crop&w=400&h=300',
    items: [
      {
        id: 'karambit_fade',
        name: '★ Karambit | Fade',
        type: 'knife',
        rarity: 'knife',
        baseValue: 1250,
        image: 'https://pixabay.com/get/g72ad80b162b380c07897f34d39fa08ce222e3e06e78f4715c2b940c19f5affa7e1fd16589cdb2d8369764bc625735b6e4bc51dbd2970100bbefceb1606f58ced_1280.jpg',
        conditions: WEAR_CONDITIONS,
        statTrakChance: 0.15,
      },
    ],
  },
  {
    id: 'chroma_case',
    name: 'Chroma Case',
    description: 'Colorful, vibrant themes',
    price: 75,
    tier: 'standard',
    image: 'https://images.unsplash.com/photo-1557804506-669a67965ba0?ixlib=rb-4.0.3&auto=format&fit=crop&w=400&h=300',
    items: [
      {
        id: 'ak47_fire_serpent',
        name: 'AK-47 | Fire Serpent',
        type: 'weapon',
        rarity: 'covert',
        baseValue: 320,
        image: 'https://images.unsplash.com/photo-1589492477829-5e65395b66cc?w=300',
        conditions: WEAR_CONDITIONS,
        statTrakChance: 0.15,
      },
    ],
  },
  {
    id: 'phoenix_case',
    name: 'Phoenix Case',
    description: 'Fire and mythology skins',
    price: 100,
    tier: 'standard',
    image: 'https://images.unsplash.com/photo-1574169208507-84376144848b?ixlib=rb-4.0.3&auto=format&fit=crop&w=400&h=300',
    items: [
      {
        id: 'ak47_vulcan',
        name: 'AK-47 | Vulcan',
        type: 'weapon',
        rarity: 'classified',
        baseValue: 85,
        image: 'https://images.unsplash.com/photo-1589492477829-5e65395b66cc?w=300',
        conditions: WEAR_CONDITIONS,
        statTrakChance: 0.15,
      },
    ],
  },
  {
    id: 'danger_zone_case',
    name: 'Danger Zone Case',
    description: 'Battle royale inspired',
    price: 125,
    tier: 'standard',
    image: 'https://images.unsplash.com/photo-1560472354-b33ff0c44a43?ixlib=rb-4.0.3&auto=format&fit=crop&w=400&h=300',
    items: [
      {
        id: 'awp_neo_noir',
        name: 'AWP | Neo-Noir',
        type: 'weapon',
        rarity: 'covert',
        baseValue: 155,
        image: 'https://images.unsplash.com/photo-1574169208507-84376144848b?w=300',
        conditions: WEAR_CONDITIONS,
        statTrakChance: 0.15,
      },
    ],
  },
  {
    id: 'operation_case',
    name: 'Operation Case',
    description: 'Mission-themed with StatTrak™',
    price: 150,
    tier: 'premium',
    image: 'https://pixabay.com/get/g2fa3b146f45cf7bb453a0225ae06eafe252c8b42de6cff296570039d272415622ac265668d0ea6388f0bd503362538f0efa2dcc9de854241fa734066ff506e54_1280.jpg',
    items: [
      {
        id: 'butterfly_doppler',
        name: '★ Butterfly Knife | Doppler',
        type: 'knife',
        rarity: 'knife',
        baseValue: 850,
        image: 'https://pixabay.com/get/g72ad80b162b380c07897f34d39fa08ce222e3e06e78f4715c2b940c19f5affa7e1fd16589cdb2d8369764bc625735b6e4bc51dbd2970100bbefceb1606f58ced_1280.jpg',
        conditions: WEAR_CONDITIONS,
        statTrakChance: 0.15,
      },
    ],
  },
  {
    id: 'spectrum_case',
    name: 'Spectrum Case',
    description: 'Holographic effects',
    price: 200,
    tier: 'premium',
    image: 'https://images.unsplash.com/photo-1555862124-94036092ab14?ixlib=rb-4.0.3&auto=format&fit=crop&w=400&h=300',
    items: [
      {
        id: 'ak47_bloodsport',
        name: 'AK-47 | Bloodsport',
        type: 'weapon',
        rarity: 'covert',
        baseValue: 185,
        image: 'https://images.unsplash.com/photo-1589492477829-5e65395b66cc?w=300',
        conditions: WEAR_CONDITIONS,
        statTrakChance: 0.15,
      },
    ],
  },
  {
    id: 'prisma_case',
    name: 'Prisma Case',
    description: 'Rainbow and prismatic designs',
    price: 250,
    tier: 'premium',
    image: 'https://images.unsplash.com/photo-1567095761054-7a02e69e5c43?ixlib=rb-4.0.3&auto=format&fit=crop&w=400&h=300',
    items: [
      {
        id: 'ak47_neon_rider',
        name: 'AK-47 | Neon Rider',
        type: 'weapon',
        rarity: 'covert',
        baseValue: 95,
        image: 'https://images.unsplash.com/photo-1589492477829-5e65395b66cc?w=300',
        conditions: WEAR_CONDITIONS,
        statTrakChance: 0.15,
      },
    ],
  },
  {
    id: 'glove_case',
    name: 'Glove Case',
    description: 'Rare glove skins',
    price: 400,
    tier: 'elite',
    image: 'https://images.unsplash.com/photo-1578575437130-527eed3abbec?ixlib=rb-4.0.3&auto=format&fit=crop&w=400&h=300',
    items: [
      {
        id: 'gloves_crimson_kimono',
        name: '★ Driver Gloves | Crimson Weave',
        type: 'glove',
        rarity: 'knife',
        baseValue: 650,
        image: 'https://images.unsplash.com/photo-1578575437130-527eed3abbec?w=300',
        conditions: WEAR_CONDITIONS,
      },
    ],
  },
  {
    id: 'dreams_nightmares',
    name: 'Dreams & Nightmares',
    description: 'Community extreme designs',
    price: 500,
    tier: 'elite',
    image: 'https://images.unsplash.com/photo-1484589065579-248aad0d8b13?ixlib=rb-4.0.3&auto=format&fit=crop&w=400&h=300',
    items: [
      {
        id: 'ak47_nightmare',
        name: 'AK-47 | Nightmare',
        type: 'weapon',
        rarity: 'covert',
        baseValue: 445,
        image: 'https://images.unsplash.com/photo-1589492477829-5e65395b66cc?w=300',
        conditions: WEAR_CONDITIONS,
        statTrakChance: 0.15,
      },
    ],
  },
  {
    id: 'collectors_case',
    name: "Collector's Case",
    description: 'Ultra-rare items, guaranteed knife/glove',
    price: 750,
    tier: 'elite',
    guaranteedSpecial: true,
    image: 'https://images.unsplash.com/photo-1614027164847-1b28cfe1df60?ixlib=rb-4.0.3&auto=format&fit=crop&w=400&h=300',
    items: [
      {
        id: 'karambit_crimson_web',
        name: '★ Karambit | Crimson Web',
        type: 'knife',
        rarity: 'knife',
        baseValue: 2850,
        image: 'https://pixabay.com/get/g72ad80b162b380c07897f34d39fa08ce222e3e06e78f4715c2b940c19f5affa7e1fd16589cdb2d8369764bc625735b6e4bc51dbd2970100bbefceb1606f58ced_1280.jpg',
        conditions: WEAR_CONDITIONS,
        statTrakChance: 0.15,
      },
    ],
  },
];

export const ACHIEVEMENTS: Achievement[] = [
  {
    id: 'first_case',
    name: 'First Steps',
    description: 'Open your first case',
    icon: 'package',
    requirement: 1,
    reward: 50,
    unlocked: false,
    progress: 0,
  },
  {
    id: 'first_knife',
    name: 'Sharp Edge',
    description: 'Unbox your first knife',
    icon: 'sword',
    requirement: 1,
    reward: 500,
    unlocked: false,
    progress: 0,
  },
  {
    id: 'profit_milestone',
    name: 'Profit Prophet',
    description: 'Reach $1000 profit',
    icon: 'trending-up',
    requirement: 1000,
    reward: 200,
    unlocked: false,
    progress: 0,
  },
  {
    id: 'case_streak',
    name: 'Lucky Streak',
    description: 'Open 10 cases in a row',
    icon: 'zap',
    requirement: 10,
    reward: 150,
    unlocked: false,
    progress: 0,
  },
];

export const DAILY_CHALLENGES: DailyChallenge[] = [
  {
    id: 'daily_cases',
    name: 'Daily Opener',
    description: 'Open 3 cases today',
    requirement: 3,
    progress: 0,
    reward: 100,
    completed: false,
    expiresAt: new Date(Date.now() + 24 * 60 * 60 * 1000),
  },
  {
    id: 'daily_profit',
    name: 'Daily Trader',
    description: 'Make $100 profit today',
    requirement: 100,
    progress: 0,
    reward: 75,
    completed: false,
    expiresAt: new Date(Date.now() + 24 * 60 * 60 * 1000),
  },
];

export const XP_PER_CASE = 25;
export const XP_PER_LEVEL = 1000;
export const STATTRAK_CHANCE = 0.15;
export const STATTRAK_MULTIPLIER = 2;
